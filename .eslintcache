[{"C:\\Users\\Rogerio\\Desktop\\catlogbeta2\\src\\index.js":"1","C:\\Users\\Rogerio\\Desktop\\catlogbeta2\\src\\App.js":"2","C:\\Users\\Rogerio\\Desktop\\catlogbeta2\\src\\reportWebVitals.js":"3","C:\\Users\\Rogerio\\Desktop\\catlogbeta2\\src\\components\\Submit.js":"4","C:\\Users\\Rogerio\\Desktop\\catlogbeta2\\src\\firebase.js":"5"},{"size":501,"mtime":1612105535061,"results":"6","hashOfConfig":"7"},{"size":3167,"mtime":1612274768975,"results":"8","hashOfConfig":"7"},{"size":362,"mtime":499162500000,"results":"9","hashOfConfig":"7"},{"size":1586,"mtime":1612105535061,"results":"10","hashOfConfig":"7"},{"size":754,"mtime":1612096745528,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"19b6iz1",{"filePath":"15","messages":"16","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"17","usedDeprecatedRules":"14"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22","usedDeprecatedRules":"23"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"C:\\Users\\Rogerio\\Desktop\\catlogbeta2\\src\\index.js",[],["26","27"],"C:\\Users\\Rogerio\\Desktop\\catlogbeta2\\src\\App.js",["28","29","30","31"],"import './App.css';\nimport { firebaseApp, db } from './firebase';\nimport React, { useState, useEffect } from 'react';\nimport firebase from \"firebase/app\";\n\nimport axios from 'axios';\n\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/functions\";\n//Submit take week and userID\nimport Submit from './components/Submit';\n\nvar firebaseui = require('firebaseui');\n\nvar googleProvider = new firebase.auth.GoogleAuthProvider();\n//  const cakedata = axios.get(\"https://us-central1-catlogbeta2.cloudfunctions.net/cakeTaster\");\nvar facebookProvider = new firebase.auth.FacebookAuthProvider();\n\nvar ui = firebaseui.auth.AuthUI.getInstance() || new firebaseui.auth.AuthUI(firebase.auth());\n\nui.start('#firebaseui-auth-container', {\n  autoUpgradeAnonymousUsers: true,\n  signInSuccessUrl: '<url-to-redirect-to-on-success>',\n  signInOptions: [\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n    firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n  ],\n  callbacks: {\n    signInFailure: function (error) {\n      console.log(error);\n      if (error.code !== 'firebaseui/anonymous-upgrade-merge-conflict') {\n        return Promise.resolve();\n      }\n      var cred = error.credential;\n      return firebase.auth().signInWithCredential(cred);\n    }\n  }\n});\n\nfunction App() {\n  const [user, setUser] = useState(null);\n\n  var printUID = firebase.functions().httpsCallable('uid');\n  const googleLogin = () => {\n    firebase.auth()\n      .signInWithPopup(googleProvider)\n      .then((result) => {\n        // ...\n      }).catch((error) => {\n        console.log(error);\n      });\n  }\n  const facebookLogin = () => {\n    firebase.auth()\n      .signInWithPopup(facebookProvider)\n      .then((result) => {\n        // ...\n      }).catch((error) => {\n        console.log(error);\n      });\n  }\n  // const loginUI = () => {\n  //   setShowLogin(false);\n  // };\n  const logout = () => {\n    firebase.auth().signOut().then(() => {\n      console.log('loggin out');\n      setUser(null)\n    })\n  }\n  firebase.auth().onAuthStateChanged(response => {\n    if (response) {\n      setUser(response);\n      if (user) {\n        console.log(user.uid);\n      }\n    } else {\n      (console.log('auth function no response'))\n      setUser(null);\n    }\n  })\n\n  const checkUser = () => {\n    user ?\n      console.log(user.uid) : console.log('no user found');\n  }\n\n  return (\n    <div className=\"App\" >\n      <h1>Hello there</h1>\n      <button onClick={checkUser}>Check User State</button>\n      {user ?\n        <div>\n          <button onClick={logout}>Logout</button>\n          <Submit user={user.uid} week={1} />\n        </div>\n        :\n        <div>\n          <button onClick={googleLogin}>Login with Google</button>\n          <button onClick={facebookLogin}>Login with Facebook</button>\n          {/* <button onClick={loginUI}>Login UI</button> */}\n        </div>\n      }\n      <button onClick={() => {\n        printUID().then(response => {\n          console.log(response)\n        })\n      }}>UID</button>\n      {user ?\n        <h2> </h2>\n        :\n        <div id=\"firebaseui-auth-container\"></div>\n      }\n      <div id=\"firebaseui-auth-container\"></div>\n    </div>\n\n  );\n}\n\nexport default App;","C:\\Users\\Rogerio\\Desktop\\catlogbeta2\\src\\reportWebVitals.js",[],"C:\\Users\\Rogerio\\Desktop\\catlogbeta2\\src\\components\\Submit.js",["32"],"import { db, storage } from '../firebase';\r\nimport firebase from 'firebase'\r\nimport React,{useState} from 'react';\r\n\r\nfunction Submit(user, week) {\r\n    const [image, setImage] = useState(null);\r\n    const userID = user.user.uid;\r\n\r\n    const handleChange = (e) => {\r\n        if (e.target.files[0]) {\r\n            setImage(e.target.files[0]);\r\n        }\r\n    };\r\n    const handleUpload = () => {\r\n        if(image!=null){\r\n            console.log(userID);\r\n            storage.ref(`images/${userID}/images`).put(image);\r\n            storage\r\n                .ref(`images/${userID}/images`)\r\n                .getDownloadURL()\r\n                .then(url => {\r\n                    // post image inside db     \r\n                    db.collection(`users/${userID}/images`).add({\r\n                        imageUrl: url,\r\n                        userID: userID,\r\n                        week: week,\r\n                    });\r\n                    // this collection can then be edited using cloud function\r\n                    db.collection(`submissions/`).add({\r\n                        imageUrl: url,\r\n                        userID: userID,\r\n                        week: week,\r\n                    });\r\n                    console.log('image has been sent')\r\n                    setImage(null);\r\n                })\r\n        }else{\r\n            alert('no image loaded')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <input type=\"file\" onChange = {handleChange}/>\r\n            <button onClick ={handleUpload}>Upload</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Submit\r\n",["33","34"],"C:\\Users\\Rogerio\\Desktop\\catlogbeta2\\src\\firebase.js",[],{"ruleId":"35","replacedBy":"36"},{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","severity":1,"message":"40","line":2,"column":10,"nodeType":"41","messageId":"42","endLine":2,"endColumn":21},{"ruleId":"39","severity":1,"message":"43","line":2,"column":23,"nodeType":"41","messageId":"42","endLine":2,"endColumn":25},{"ruleId":"39","severity":1,"message":"44","line":3,"column":27,"nodeType":"41","messageId":"42","endLine":3,"endColumn":36},{"ruleId":"39","severity":1,"message":"45","line":6,"column":8,"nodeType":"41","messageId":"42","endLine":6,"endColumn":13},{"ruleId":"39","severity":1,"message":"46","line":2,"column":8,"nodeType":"41","messageId":"42","endLine":2,"endColumn":16},{"ruleId":"35","replacedBy":"47"},{"ruleId":"37","replacedBy":"48"},"no-native-reassign",["49"],"no-negated-in-lhs",["50"],"no-unused-vars","'firebaseApp' is defined but never used.","Identifier","unusedVar","'db' is defined but never used.","'useEffect' is defined but never used.","'axios' is defined but never used.","'firebase' is defined but never used.",["49"],["50"],"no-global-assign","no-unsafe-negation"]